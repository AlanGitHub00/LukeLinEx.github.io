library(dplyr)
url_adjusted = 'https://graderdata.s3.amazonaws.com/prices-split-adjusted.csv'
A = read.csv(url_adjusted)
A$date <- A$date  %>% as.Date()
weekdays(A$date[1])
weekdays(A$date[2])
weekdays(A$date[3])
weekdays(A$date[4])
weekdays(A$date[5])
weekdays(A$date[6])
securities = read.csv('https://graderdata.s3.amazonaws.com/securities.csv', index_col=0)
securities = read.csv('https://graderdata.s3.amazonaws.com/securities.csv')
View(securities)
is.na(securities)
class(is.na(securities))
is.na(securities$Date.first.added)
any(is.na(securities$Date.first.added))
any(is.na(securities[,1]))
any(is.na(securities[,2]))
any(is.na(securities[,3]))
any(is.na(securities[,4]))
any(is.na(securities[,5]))
any(is.na(securities[,6]))
any(is.na(securities[,7]))
any(is.na(securities[,8]))
any(is.na(securities[,10]))
?read.csv
securities = read.csv('https://graderdata.s3.amazonaws.com/securities.csv',
na.strings = "")
any(is.na(securities$Date.first.added))
sum(is.na(securities$Date.first.added))
fundamentals = read.csv('https://graderdata.s3.amazonaws.com/fundamentals.csv',
na.strings = "")
View(fundamentals)
fundamentals = read.csv('https://graderdata.s3.amazonaws.com/fundamentals.csv',
na.strings = "", skip = 1)
View(fundamentals)
fundamentals = read.csv('https://graderdata.s3.amazonaws.com/fundamentals.csv',
na.strings = "", row.names=0)
fundamentals = read.csv('https://graderdata.s3.amazonaws.com/fundamentals.csv',
na.strings = "", row.names=1)
View(fundamentals)
?mean
fundamentals %>% is.na() %>% mean()
fundamentals %>% is.na() %>% sapply(mean)
fundamentals %>% is.na() %>% sapply(function(x)mean(x))
fundamentals %>% is.na() %>% as.data.frame()%>%sapply(function(x)mean(x))
fundamentals %>% is.na() %>% as.data.frame()%>%sapply(function(x)mean(x)) %>% arrange()
fundamentals %>% is.na() %>% as.data.frame()%>%sapply(function(x)mean(x)) %>% sapply(class)
fundamentals %>% is.na() %>% as.data.frame()%>%sapply(function(x)mean(x)) %>% t()
fundamentals %>% is.na() %>% as.data.frame()%>%sapply(function(x)mean(x))
fundamentals %>% is.na() %>% as.data.frame()%>%sapply(function(x) sum(x))
?inner_join
A = inner_join(fundamentals, securities, by = c('Ticker Symbol'='Ticker symbol'))
A = inner_join(fundamentals, securities, by = c('Ticker symbol'='Ticker Symbol'))
A = inner_join(fundamentals, securities, by = c('Ticker.symbol'='Ticker.Symbol'))
A = inner_join(fundamentals, securities, by = c('Ticker.Symbol'='Ticker.symbol'))
View(A)
class(A$Ticker.Symbol)
is.na(A) %>% as.data.frame() %>% sapply(sum)
colnames(A)
ggplot(data= A) + geom_point(aes(x= Total.Equity y=Earnings.Before.Interest.and.Tax))
ggplot(data= A) + geom_point(aes(x= Total.Equity, y=Earnings.Before.Interest.and.Tax))
library(ggplot2)
ggplot(data= A) + geom_point(aes(x= Total.Equity, y=Earnings.Before.Interest.and.Tax))
ggplot(data= A) + geom_point(aes(x= Total.Equity, y=Earnings.Before.Interest.and.Tax, color=GICS.Sector))
ggplot(data= A) + geom_boxplot(x=GICS.Sector, y=Accounts.Payable))
ggplot(data= A) + geom_boxplot(x=GICS.Sector, y=Accounts.Payable)
ggplot(data= A) + geom_boxplot(aes(x=GICS.Sector, y=Accounts.Payable))
ggplot(data= A) + geom_boxplot(aes(x=GICS.Sector, y=Accounts.Receivable))
ggplot(data= A) + geom_boxplot(aes(x=GICS.Sector, y=Accounts.Payable))
ggplot(data= A) + geom_boxplot(aes(x=GICS.Sector, y=Accounts.Payable)) + ylim(, 5e10)
ggplot(data= A) + geom_boxplot(aes(x=GICS.Sector, y=Accounts.Payable)) + ylim(NA, 5e10)
ggplot(data= A) + geom_boxplot(aes(x=GICS.Sector, y=Accounts.Payable)) + ylim(NA, 4e10)
ggplot(data= A) + geom_boxplot(aes(x=GICS.Sector, y=Accounts.Payable)) + ylim(NA, 1e10)
ggplot(data= A) + geom_boxplot(aes(x=GICS.Sector, y=Accounts.Payable)) + ylim(NA, 5e10)
ggplot(data= A) + geom_boxplot(aes(x=GICS.Sector, y=Accounts.Payable)) + ylim(NA, 1e10)
ggplot(data= A) + geom_boxplot(aes(x=GICS.Sector, y=Accounts.Payable)) + ylim(NA, 5e10)
ggplot(data= A) + geom_boxplot(aes(x=GICS.Sector, y=Accounts.Payable)) + ylim(NA, 5e10)+ theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(data= A) + geom_boxplot(aes(x=GICS.Sector, y=Accounts.Payable)) + ylim(NA, 1e10)+ theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(data= A) + geom_boxplot(aes(x=GICS.Sector, y=Accounts.Payable)) + ylim(NA, 5e10)+ theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(data= A) + geom_boxplot(aes(x=GICS.Sector, y=Accounts.Payable)) + theme(axis.text.x = element_text(angle = 90, hjust = 1))
# + ylim(NA, 5e10)
ggplot(data= A) + geom_boxplot(aes(x=GICS.Sector, y=Accounts.Payable)) + theme(axis.text.x = element_text(angle = 90, hjust = 1)) + ylim(NA, 5e10)
library(dplyr)
A %>% groupby(GICS.Sector) %>% summarise(avg_after_tax_roe = mean(After.Tax.ROE))
A %>% group_by(GICS.Sector) %>%
summarise(avg_after_tax_roe = mean(After.Tax.ROE)) %>%
arrange(desc(avg_after_tax_roe))
